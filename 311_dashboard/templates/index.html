<!DOCTYPE html>
<html>
<head>
  <title>311 Dashboard</title>
  <link rel="stylesheet" href="./static/css/bootstrap.min.css">
  
  <link rel="stylesheet" href="./static/css/dc.min.css">
  <link rel="stylesheet" href="./static/css/leaflet.css">
  <!-- <link rel="stylesheet" href="./static/css/bootstrap.min.css"> -->
  <link rel="stylesheet" href="./static/css/slider.css">
  <link rel="stylesheet" href="./static/css/style.css">
  <!-- <link rel="stylesheet" href="./static/css/keen-dashboards.css"> -->
  <style>
    #slider .slider-selection {
      background: green;
      }
  </style>

</head>

  
    <input name="time" id="time" type="text" style="width: auto;"/>

    <input id="from" type="hidden" name="from" value="2011-09-00 00:00:00">
    <input id="to" type="hidden" name="to" value="2015-01-00 00:00:00">


      <div class="wrapper">
      <span>From: <span id="timeValue1">September 2011</span></span> <br>
      <span>To: <span id="timeValue2">January 2015</span></span>
    </div>

      
<body>
  <script src="./static/js/jquery.min.js"></script>
  <script src="./static/js/bootstrap.min.js"></script>
  <script src="./static/js/underscore-min.js"></script>
  <script src="./static/js/crossfilter.js"></script>
  <script src="./static/js/d3.min.js"></script>
  <script src="./static/js/dc.min.js"></script>
  <script src="./static/js/queue.js"></script>
  <script src="./static/js/leaflet.js"></script>
  <script src="./static/js/leaflet-heat.js"></script>
  <script src="./static/js/keen.min.js"></script>
  <script src='./static/js/graphs.js' type='text/javascript'></script>

  <script src="./static/js/bootstrap-slider.js"></script>

   <script type="text/javascript">
      $(document).ready(function() {

        // for slider
        $("#time").slider({
            id: "slider",
            min: 0,
            max: 83,
            range: true,
            value: [20,60],
            orientation: 'vertical',
            // remove tooltip to display the index of months and years
            tooltip: "always"

        });

        // for complaint checkbox
        var limit = 2;
        $('input.single-checkbox').on('change', function(evt) {
          if($(this).siblings(':checked').length >= limit) {
              this.checked = false;
          }
        });

        var monthNames = ["January", "Februrary", "March", "April", "May", "June", "July", "August", "September",
        "October", "November", "December"];
        var yr = "";
        var month = "";
        var combo_yrMonth = "";
        $("#time").on("slide", function(slideEvt) {
          month = (slideEvt.value[0]% 12) + 1;
          yr = Math.floor(slideEvt.value[0]/12);

          // just the display
          $("#timeValue1").text(monthNames[month-1] + " 201" + yr);

          if(month < 10) {
            month = "0" + month;
          }
          combo_yrMonth = "201" + yr + "-" + month + "-00" + " 00:00:00"

          ;

          // post data
          $("#from").val(combo_yrMonth);

        });

        var yr1 = "";
        var month1 = "";
        var combo_yrMonth1 = "";
        $("#time").on("slide", function(slideEvt) {
          // $("#timeValue2").text(monthNames[slideEvt.value[1] % 12] + " 201" + Math.floor(slideEvt.value[1]/12));
          // $("#to").val(monthNames[slideEvt.value[1] % 12] + " 201" + Math.floor(slideEvt.value[1]/12));

          month1 = (slideEvt.value[1] % 12) + 1;
          yr1 = Math.floor(slideEvt.value[1]/12);

          // just the display
          $("#timeValue2").text(monthNames[month1-1] + " 201" + yr1);

          if(month1 < 10) {
            month1 = "0" + month1;
          }
          combo_yrMonth1 = "201" + yr1 + "-" + month1 + "-00" + " 23:59:59"

          // post data
          $("#to").val(combo_yrMonth1);

        });


    });
  </script> 

</body>
</html>
